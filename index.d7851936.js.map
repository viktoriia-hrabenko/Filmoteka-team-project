{"mappings":"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","sources":["src/index.js","src/js/components/searchMovie.js","src/js/components/searchMovie-pagination.js","src/js/components/pagination.js"],"sourcesContent":["import { getGenresIdsList } from './js/api/getGenresIdsList';\nimport { getTrending, getSearch, getMovieDetails } from './js/api/fetchMovies';\nimport { renderMoviesList } from './js/templates/renderMovies';\nimport { onSearchFormButtonClick } from './js/components/searchMovie';\nimport { setPagination } from './js/components/pagination';\nimport { addToggleModal } from './js/components/modal';\nimport './js/templates/footer';\nimport './js/templates/theme';\n\nimport { refs } from './js/refs/refs';\nimport { FetchApiMovies } from './js/api/fetchMovies';\nimport { Loader } from './js/components/loader';\nconst fetchApiMovies = new FetchApiMovies();\nconst loader = new Loader();\n\nlet page = 1;\n\nasync function showTrendingMovies(page) {\n  const genresList = await getGenresIdsList();\n  const response = await fetchApiMovies.getTrending(page);\n  const movies = await response.results;\n\n  renderMoviesList(movies, genresList);\n  setPagination(page);\n  loader.off();\n}\n\nconst showMoviesAndModal = showTrendingMovies(1).then(() => {\n  addToggleModal();\n});\n\nexport { showTrendingMovies };\n\n// close welcome modal and check if user has already seen it\nconst is_modal_show = sessionStorage.getItem('alreadyShow');\nif (is_modal_show != 'alredy shown') {\n  setTimeout(() => {\n    document.querySelector('.welcome-overlay').classList.add('off');\n    document.querySelector('.welcome-text').classList.add('off');\n  }, 1000);\n  sessionStorage.setItem('alreadyShow', 'alredy shown');\n} else {\n  loader.on();\n  document.querySelector('.welcome-overlay').classList.add('off');\n  document.querySelector('.welcome-text').classList.add('off');\n}\n","import { refs } from '../refs/refs';\nimport { getGenresIdsList } from '../api/getGenresIdsList';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { renderMoviesList } from '../templates/renderMovies';\nimport { addToggleModal } from '../components/modal';\nimport { Loader } from './loader';\nimport { setPaginationSearch } from './searchMovie-pagination';\n\nexport { onSearchFormButtonClick };\n\nconst loader = new Loader();\nconst fetchApiMovies = new FetchApiMovies();\n\nrefs.searchForm.addEventListener('submit', onSearchFormButtonClick);\n\nasync function onSearchFormButtonClick(element) {\n  element.preventDefault();\n\n  loader.on();\n\n  const genresList = await getGenresIdsList();\n  const query = refs.formInput.value.trim();\n  const response = await fetchApiMovies.getSearch(query, 1);\n  const movies = await response.results;\n\n  if (movies.length === 0) {\n    loader.off();\n    refs.notification.classList.remove('off');\n    setTimeout(() => {\n      refs.notification.classList.add('off');\n    }, 2000);\n    return;\n  }\n\n  renderMoviesList(movies, genresList);\n  setPaginationSearch(query, 1);\n  addToggleModal();\n\n  loader.off();\n}\n","import { refs } from '../refs/refs';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { renderMoviesList } from '../templates/renderMovies';\nimport { getGenresIdsList } from '../api/getGenresIdsList';\nimport { addToggleModal } from '../components/modal';\nimport { Loader } from './loader';\nconst loader = new Loader();\n\nfunction topFunction() {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n}\n\nconst fetchApiMovies = new FetchApiMovies();\n\nexport async function setPaginationSearch(query, page) {\n  refs.paginationNumbers.innerHTML = '';\n  const response = await fetchApiMovies.getSearch(query, page);\n  const totalNumberOfPages = await response.total_pages;\n  let currentPage = await response.page;\n  let paginationMArkup = '';\n\n  if (currentPage > 1) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__prev-button\">\n    &#8656\n</button>`;\n  }\n\n  for (let i = 1; i <= totalNumberOfPages; i += 1) {\n    if (\n      i == 1 ||\n      i == totalNumberOfPages ||\n      i == currentPage ||\n      (i > currentPage && i <= currentPage + 2) ||\n      (i < currentPage && i >= currentPage - 2) ||\n      (currentPage == 1 && totalNumberOfPages > 4 && i < 8) ||\n      (currentPage == 2 && totalNumberOfPages > 5 && i < 8) ||\n      (currentPage == 3 && totalNumberOfPages > 6 && i < 8) ||\n      (currentPage == 4 && totalNumberOfPages > 7 && i < 8) ||\n      (currentPage == totalNumberOfPages &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 1 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 2 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 3 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7)\n    ) {\n      paginationMArkup += `<button type=\"button\" class=\"pagination-container__button\" data-id=\"${i}\">${i}</button>`;\n    }\n  }\n  if (totalNumberOfPages > 2 && totalNumberOfPages !== currentPage) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__next-button\">&#8658\n    </button>`;\n  }\n\n  refs.paginationNumbers.innerHTML = paginationMArkup;\n\n  const paginationButtons = document.querySelectorAll(\n    '.pagination-numbers button'\n  );\n\n  function createDotsbuttons() {\n    const firstDotButtonLocation = document.querySelector(\n      'button[data-id=\"1\"]'\n    );\n    const lastDotButtonLocation = document.querySelector(\n      `button[data-id=\"${totalNumberOfPages}\"`\n    );\n    const firstDotButton = document.createElement('button');\n    firstDotButton.textContent = '...';\n    firstDotButton.classList.add('pagination-container__first-dot-button');\n    const lastDotButton = document.createElement('button');\n    lastDotButton.textContent = '...';\n    lastDotButton.classList.add('pagination-container__last-dot-button');\n\n    if (currentPage > 4) {\n      firstDotButtonLocation.after(firstDotButton);\n    }\n\n    if (currentPage < totalNumberOfPages - 3)\n      lastDotButtonLocation.before(lastDotButton);\n  }\n  createDotsbuttons();\n\n  function handleActiveButton() {\n    paginationButtons.forEach(button => {\n      button.classList.remove('pagination-container__button--active');\n      let pageIndex = button.textContent;\n      if (pageIndex == currentPage) {\n        button.classList.add('pagination-container__button--active');\n      }\n    });\n  }\n\n  handleActiveButton();\n\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', async event => {\n      if (event.target.classList.contains('pagination-container__button')) {\n        topFunction();\n        loader.on();\n        let pageNumber = event.target.textContent;\n        const genresList = await getGenresIdsList();\n        const response = await fetchApiMovies.getSearch(query, pageNumber);\n        const movies = await response.results;\n        renderMoviesList(movies, genresList);\n        setPaginationSearch(query, pageNumber);\n        addToggleModal();\n        loader.off();\n      } else if (\n        event.target.classList.contains('pagination-container__prev-button')\n      ) {\n        topFunction();\n        loader.on();\n        currentPage--;\n        const genresList = await getGenresIdsList();\n        const response = await fetchApiMovies.getSearch(query, currentPage);\n        const movies = await response.results;\n        renderMoviesList(movies, genresList);\n        setPaginationSearch(query, currentPage);\n        addToggleModal();\n        loader.off();\n      } else if (\n        event.target.classList.contains('pagination-container__next-button')\n      ) {\n        topFunction();\n        loader.on();\n        currentPage++;\n        const genresList = await getGenresIdsList();\n        const response = await fetchApiMovies.getSearch(query, currentPage);\n        const movies = await response.results;\n        renderMoviesList(movies, genresList);\n        setPaginationSearch(query, currentPage);\n        addToggleModal();\n        loader.off();\n      }\n    });\n  });\n}\n","import { refs } from '../refs/refs';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { showTrendingMovies } from '../../index.js';\nimport { addToggleModal } from './modal';\nimport { onSearchFormButtonClick } from './searchMovie';\nimport { Loader } from './loader';\nconst fetchApiMovies = new FetchApiMovies();\nconst loader = new Loader();\n\nfunction topFunction() {\n  document.body.scrollTop = 0; \n  document.documentElement.scrollTop = 0; \n}\n\nexport async function setPagination(page) {\n  refs.paginationNumbers.innerHTML = '';\n  const response = await fetchApiMovies.getTrending(page);\n  const totalNumberOfPages = await response.total_pages;\n  let currentPage = await response.page;\n  let paginationMArkup = '';\n\n  if (currentPage > 1) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__prev-button\">\n    &#8656\n</button>`;\n  }\n\n  for (let i = 1; i <= totalNumberOfPages; i += 1) {\n    if (\n      i == 1 ||\n      i == totalNumberOfPages ||\n      i == currentPage ||\n      (i > currentPage && i <= currentPage + 2) ||\n      (i < currentPage && i >= currentPage - 2) ||\n      (currentPage == 1 && totalNumberOfPages > 4 && i < 8) ||\n      (currentPage == 2 && totalNumberOfPages > 5 && i < 8) ||\n      (currentPage == 3 && totalNumberOfPages > 6 && i < 8) ||\n      (currentPage == 4 && totalNumberOfPages > 7 && i < 8) ||\n      (currentPage == totalNumberOfPages &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 1 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 2 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 3 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7)\n    ) {\n      paginationMArkup += `<button type=\"button\" class=\"pagination-container__button\" data-id=\"${i}\">${i}</button>`;\n    }\n  }\n  if (totalNumberOfPages > 2 && totalNumberOfPages !== currentPage) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__next-button\">&#8658\n    </button>`;\n  }\n\n  refs.paginationNumbers.innerHTML = paginationMArkup;\n\n  const paginationButtons = document.querySelectorAll(\n    '.pagination-numbers button'\n  );\n\n  function createDotsbuttons() {\n    const firstDotButtonLocation = document.querySelector(\n      'button[data-id=\"1\"]'\n    );\n    const lastDotButtonLocation = document.querySelector(\n      `button[data-id=\"${totalNumberOfPages}\"`\n    );\n    const firstDotButton = document.createElement('button');\n    firstDotButton.textContent = '...';\n    firstDotButton.classList.add('pagination-container__first-dot-button');\n    const lastDotButton = document.createElement('button');\n    lastDotButton.textContent = '...';\n    lastDotButton.classList.add('pagination-container__last-dot-button');\n\n    if (currentPage > 4) {\n      firstDotButtonLocation.after(firstDotButton);\n    }\n\n    if (currentPage < totalNumberOfPages - 3)\n      lastDotButtonLocation.before(lastDotButton);\n  }\n  createDotsbuttons();\n\n  function handleActiveButton() {\n    paginationButtons.forEach(button => {\n      button.classList.remove('pagination-container__button--active');\n      let pageIndex = button.textContent;\n      if (pageIndex == currentPage) {\n        button.classList.add('pagination-container__button--active');\n      }\n    });\n  }\n\n  handleActiveButton();\n\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', event => {\n      if (event.target.classList.contains('pagination-container__button')) {\n        topFunction();\n        loader.on();\n        let pageNumber = event.target.textContent;\n        showTrendingMovies(pageNumber).then(() => {\n          addToggleModal();\n          loader.off();\n          \n        });\n      } else if (\n        event.target.classList.contains('pagination-container__prev-button')\n      ) {\n        topFunction();\n        loader.on();\n        currentPage--;\n        showTrendingMovies(currentPage).then(() => {\n          addToggleModal();\n          loader.off();\n        });\n      } else if (\n        event.target.classList.contains('pagination-container__next-button')\n      ) {\n        topFunction();\n        loader.on();\n        currentPage++;\n        showTrendingMovies(currentPage).then(() => {\n          addToggleModal();\n          loader.off();\n        });\n      }\n    });\n  });\n}\n\n\n"],"names":["$7pbsT","parcelRequire","$2dadfd367d78ce49$var$loader","Loader","$2dadfd367d78ce49$var$topFunction","document","body","scrollTop","documentElement","$2dadfd367d78ce49$var$fetchApiMovies","$lfqeF","FetchApiMovies","$2dadfd367d78ce49$export$ca7773b6a29f0f7f","query","page","$2dadfd367d78ce49$var$_setPaginationSearch","apply","this","arguments","default","response","totalNumberOfPages","currentPage","paginationMArkup","i","paginationButtons","$cqmI4","refs","paginationNumbers","innerHTML","getSearch","_state","sent","total_pages","concat","querySelectorAll","firstDotButtonLocation","querySelector","lastDotButtonLocation","firstDotButton","createElement","textContent","classList","add","lastDotButton","after","before","createDotsbuttons","forEach","button","remove","addEventListener","event","pageNumber","genresList","movies","genresList1","movies1","genresList2","movies2","target","contains","on","$1fAZO","getGenresIdsList","results","$jPljR","renderMoviesList","$8BR1R","addToggleModal","off","$54035a6732a45c98$var$loader","$iPy5Q","$54035a6732a45c98$var$fetchApiMovies","$54035a6732a45c98$var$_onSearchFormButtonClick","element","preventDefault","formInput","value","trim","length","notification","setTimeout","searchForm","$5e320f9b57c6a225$var$fetchApiMovies","$5e320f9b57c6a225$var$loader","$5e320f9b57c6a225$var$topFunction","$5e320f9b57c6a225$export$347aea62317e2398","$5e320f9b57c6a225$var$_setPagination","getTrending","$b8f9b7833fa37166$export$2e39d0d53b532317","then","$b8f9b7833fa37166$var$fetchApiMovies","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$_showTrendingMovies","sessionStorage","getItem","setItem"],"version":3,"file":"index.d7851936.js.map"}