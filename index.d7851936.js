!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire62bd;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire62bd=o);var a=o("7pbsT"),r=o("4tSb9"),s=o("1fAZO"),i=o("lfqeF"),c=o("jPljR"),u=(a=o("7pbsT"),r=o("4tSb9"),o("cqmI4")),l=(o("1fAZO"),i=o("lfqeF"),o("jPljR"),o("8BR1R")),d=o("iPy5Q"),f=(a=o("7pbsT"),r=o("4tSb9"),u=o("cqmI4"),i=o("lfqeF"),c=o("jPljR"),s=o("1fAZO"),l=o("8BR1R"),new(0,(d=o("iPy5Q")).Loader));function g(){document.body.scrollTop=0,document.documentElement.scrollTop=0}var p=new(0,i.FetchApiMovies);function b(t,e){return _.apply(this,arguments)}function _(){return _=(0,a.default)((function(t,e){var n,o,i,d,_,m;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,p.getSearch(t,e)];case 1:return[4,(n=v.sent()).total_pages];case 2:return o=v.sent(),[4,n.page];case 3:for(i=v.sent(),d="",i>1&&(d+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),_=1;_<=o;_+=1)(1==_||_==o||_==i||_>i&&_<=i+2||_<i&&_>=i-2||1==i&&o>4&&_<8||2==i&&o>5&&_<8||3==i&&o>6&&_<8||4==i&&o>7&&_<8||i==o&&o>7&&_>o-7||i==o-1&&o>7&&_>o-7||i==o-2&&o>7&&_>o-7||i==o-3&&o>7&&_>o-7)&&(d+='<button type="button" class="pagination-container__button" data-id="'.concat(_,'">').concat(_,"</button>"));return o>2&&o!==i&&(d+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=d,m=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(o,'"')),n=document.createElement("button");n.textContent="...",n.classList.add("pagination-container__first-dot-button");var a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__last-dot-button"),i>4&&t.after(n),i<o-3&&e.before(a)}(),m.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==i&&t.classList.add("pagination-container__button--active")})),m.forEach((function(e){var n;e.addEventListener("click",(n=(0,a.default)((function(e){var n,o,a,u,d,_,m;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e.target.classList.contains("pagination-container__button")?(g(),f.on(),n=e.target.textContent,[4,(0,s.getGenresIdsList)()]):[3,4];case 1:return o=r.sent(),[4,p.getSearch(t,n)];case 2:return[4,r.sent().results];case 3:return a=r.sent(),(0,c.renderMoviesList)(a,o),b(t,n),(0,l.addToggleModal)(),f.off(),[3,12];case 4:return e.target.classList.contains("pagination-container__prev-button")?(g(),f.on(),i--,[4,(0,s.getGenresIdsList)()]):[3,8];case 5:return u=r.sent(),[4,p.getSearch(t,i)];case 6:return[4,r.sent().results];case 7:return d=r.sent(),(0,c.renderMoviesList)(d,u),b(t,i),(0,l.addToggleModal)(),f.off(),[3,12];case 8:return e.target.classList.contains("pagination-container__next-button")?(g(),f.on(),i++,[4,(0,s.getGenresIdsList)()]):[3,12];case 9:return _=r.sent(),[4,p.getSearch(t,i)];case 10:return[4,r.sent().results];case 11:m=r.sent(),(0,c.renderMoviesList)(m,_),b(t,i),(0,l.addToggleModal)(),f.off(),r.label=12;case 12:return[2]}}))})),function(t){return n.apply(this,arguments)}))})),[2]}}))})),_.apply(this,arguments)}var m=new(0,d.Loader),v=new(0,i.FetchApiMovies);function h(){return(h=(0,a.default)((function(t){var e,n,o;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return t.preventDefault(),m.on(),[4,(0,s.getGenresIdsList)()];case 1:return e=a.sent(),n=u.refs.formInput.value.trim(),[4,v.getSearch(n,1)];case 2:return[4,a.sent().results];case 3:return 0===(o=a.sent()).length?(m.off(),u.refs.notification.classList.remove("off"),setTimeout((function(){u.refs.notification.classList.add("off")}),2e3),[2]):((0,c.renderMoviesList)(o,e),b(n,1),(0,l.addToggleModal)(),m.off(),[2])}}))}))).apply(this,arguments)}u.refs.searchForm.addEventListener("submit",(function(t){return h.apply(this,arguments)}));a=o("7pbsT"),r=o("4tSb9"),u=o("cqmI4"),i=o("lfqeF"),l=o("8BR1R"),d=o("iPy5Q");var L=new(0,i.FetchApiMovies),y=new(0,d.Loader);function w(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function T(t){return S.apply(this,arguments)}function S(){return(S=(0,a.default)((function(t){var e,n,o,a,s,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,L.getTrending(t)];case 1:return[4,(e=r.sent()).total_pages];case 2:return n=r.sent(),[4,e.page];case 3:for(o=r.sent(),a="",o>1&&(a+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),s=1;s<=n;s+=1)(1==s||s==n||s==o||s>o&&s<=o+2||s<o&&s>=o-2||1==o&&n>4&&s<8||2==o&&n>5&&s<8||3==o&&n>6&&s<8||4==o&&n>7&&s<8||o==n&&n>7&&s>n-7||o==n-1&&n>7&&s>n-7||o==n-2&&n>7&&s>n-7||o==n-3&&n>7&&s>n-7)&&(a+='<button type="button" class="pagination-container__button" data-id="'.concat(s,'">').concat(s,"</button>"));return n>2&&n!==o&&(a+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=a,i=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(n,'"')),a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__first-dot-button");var r=document.createElement("button");r.textContent="...",r.classList.add("pagination-container__last-dot-button"),o>4&&t.after(a),o<n-3&&e.before(r)}(),i.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==o&&t.classList.add("pagination-container__button--active")})),i.forEach((function(t){t.addEventListener("click",(function(t){t.target.classList.contains("pagination-container__button")?(w(),y.on(),x(t.target.textContent).then((function(){(0,l.addToggleModal)(),y.off()}))):t.target.classList.contains("pagination-container__prev-button")?(w(),y.on(),x(--o).then((function(){(0,l.addToggleModal)(),y.off()}))):t.target.classList.contains("pagination-container__next-button")&&(w(),y.on(),x(++o).then((function(){(0,l.addToggleModal)(),y.off()})))}))})),[2]}}))}))).apply(this,arguments)}l=o("8BR1R");o("jVvgm"),o("5UrZj"),o("cqmI4");i=o("lfqeF"),d=o("iPy5Q");var M=new(0,i.FetchApiMovies),q=new(0,d.Loader);function x(t){return E.apply(this,arguments)}function E(){return(E=(0,a.default)((function(t){var e,n;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,s.getGenresIdsList)()];case 1:return e=o.sent(),[4,M.getTrending(t)];case 2:return[4,o.sent().results];case 3:return n=o.sent(),(0,c.renderMoviesList)(n,e),T(t),q.off(),[2]}}))}))).apply(this,arguments)}x(1).then((function(){(0,l.addToggleModal)()}));"alredy shown"!=sessionStorage.getItem("alreadyShow")?(setTimeout((function(){document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),1e3),sessionStorage.setItem("alreadyShow","alredy shown")):(q.on(),document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off"))}();
//# sourceMappingURL=index.d7851936.js.map
