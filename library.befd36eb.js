!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire62bd;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire62bd=o),o.register("iE7OH",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("8BR1R",(function(t,r){e(t.exports,"addToggleModal",(function(){return s}));var n=o("cqmI4");o("1fAZO");var i=o("lfqeF");o("jPljR");var d=o("6kpMs"),a=(o("6kpMs"),d=o("6kpMs"),o("e07ZM")),c=new(0,o("iPy5Q").Loader),l=new(0,i.FetchApiMovies),u=new URL(o("eXLfr"));function s(){var e={modalOpen:document.querySelectorAll("[data-modal-open]"),modalClose:document.querySelector("[data-modal-close]"),modalBackdrop:document.querySelector(".modal-movie__backdrop")};function t(){e.modalBackdrop.classList.remove("modal-movie__backdrop--is-hidden"),window.addEventListener("keydown",o),c.on()}function r(){e.modalBackdrop.classList.add("modal-movie__backdrop--is-hidden")}function o(e){"Escape"===e.code&&r()}e.modalOpen.forEach((function(e){e.addEventListener("click",t)})),e.modalClose.addEventListener("click",r),e.modalBackdrop.addEventListener("click",(function(e){e.target==e.currentTarget&&r()})),document.querySelectorAll(".movie-card__item").forEach((function(e){var t,r;e.addEventListener("click",(function(t){f.src="",m.innerHTML="",v.innerHTML="",p.innerHTML="",L.innerHTML="",_.innerHTML="",b.innerHTML="",y.innerHTML="",h.dataset.id="",g.dataset.id="",t.preventDefault();var r=e.id;l.getMovieDetails(r).then((function(e){var t,r,n,o,i,d,a,c,l,s;r=(t=e).id,n=t.poster_path,o=t.title,i=t.original_title,d=t.popularity,a=t.overview,c=t.genres,l=t.vote_average,s=t.vote_count,n=null===n?u:"https://image.tmdb.org/t/p/w500".concat(n),f.src=n,m.innerHTML=o,v.innerHTML=l.toFixed(1),p.innerHTML=s,L.innerHTML=d.toFixed(1),_.innerHTML=i,b.innerHTML=c.map((function(e){return e.name})).join(", "),y.innerHTML=a,h.dataset.id=r,g.dataset.id=r})),c.off()}));var o=!1,i=!1;null===(t=(0,d.load)("watchedList"))||void 0===t||t.forEach((function(t){t.id==e.id&&(o=!0)})),null===(r=(0,d.load)("queueList"))||void 0===r||r.forEach((function(t){t.id==e.id&&(i=!0)}));var s=document.querySelector(".modal-movie__button--watched"),q=document.querySelector(".modal-movie__button--queue");o&&(s.innerHTML="On List"),i&&(q.innerHTML="On List");var w=function(t,r,n){var a;null!=n&&("watched"===n?a=o:"queue"===n&&(a=i),a?((0,d.removeFromLibrary)(e.id,r),t.innerHTML="Add to ".concat(n),q.disabled=!1,s.disabled=!1):((0,d.addToLibrary)(e.id,r),t.innerHTML="Added",t.style.color="#8C8C8C"),"watched"===n?(o=!o,s.disabled=!0,q.disabled=!0):"queue"===n&&(i=!i,q.disabled=!0,s.disabled=!0))};s.addEventListener("click",(function(){if(w(s,"watchedList","watched"),document.location.href.includes("library")&&"watched"===n.refs.moviesList.dataset.listtype){var e=(0,d.load)("watchedList");(0,a.getAllLibraryMovies)(e,"watchedList")}})),q.addEventListener("click",(function(){if(w(q,"queueList","queue"),document.location.href.includes("library")&&"queue"===n.refs.moviesList.dataset.listtype){var e=(0,d.load)("queueList");(0,a.getAllLibraryMovies)(e,"queueList")}}))}))}var f=document.querySelector(".modal-movie__poster--img"),m=document.querySelector(".modal-movie__title"),v=document.querySelector(".modal-movie__vote"),p=document.querySelector(".modal-movie__votes"),L=document.querySelector(".modal-movie__popularity"),_=document.querySelector(".modal-movie__original-title"),b=document.querySelector(".modal-movie__genre"),y=document.querySelector(".modal-movie__text"),h=document.querySelector(".modal-movie__button--watched"),g=document.querySelector(".modal-movie__button--queue")})),o.register("eXLfr",(function(e,t){e.exports=o("aNJCr").getBundleURL("57e37")+o("iE7OH").resolve("jEEqz")})),o.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),o("iE7OH").register(JSON.parse('{"57e37":"library.befd36eb.js","jEEqz":"no-poster.cf0f8928.jpg","aMlYX":"library.18288bf3.js"}'))}();
//# sourceMappingURL=library.befd36eb.js.map
