function e(e,t,o,r){Object.defineProperty(e,t,{get:o,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},n=t.parcelRequire62bd;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire62bd=n),n.register("kyEFX",(function(t,o){var r,n;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var i={};r=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)i[t[o]]=e[t[o]]},n=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n.register("8IXMh",(function(t,o){e(t.exports,"addToggleModal",(function(){return s}));var r=n("3ILHO");n("blmqA");var i=n("gIXsy");n("24ni3");var d=n("31AGq"),a=(n("31AGq"),d=n("31AGq"),n("dd0jq"));const l=new(0,n("adAgQ").Loader),c=new(0,i.FetchApiMovies),u=new URL(n("z6xcc"));function s(){const e={modalOpen:document.querySelectorAll("[data-modal-open]"),modalClose:document.querySelector("[data-modal-close]"),modalBackdrop:document.querySelector(".modal-movie__backdrop")};function t(){e.modalBackdrop.classList.remove("modal-movie__backdrop--is-hidden"),window.addEventListener("keydown",n),l.on()}function o(){e.modalBackdrop.classList.add("modal-movie__backdrop--is-hidden")}function n(e){"Escape"===e.code&&o()}e.modalOpen.forEach((e=>{e.addEventListener("click",t)})),e.modalClose.addEventListener("click",o),e.modalBackdrop.addEventListener("click",(function(e){e.target==e.currentTarget&&o()})),document.querySelectorAll(".movie-card__item").forEach((e=>{var t,o;e.addEventListener("click",(t=>{m.src="",v.innerHTML="",f.innerHTML="",L.innerHTML="",p.innerHTML="",_.innerHTML="",y.innerHTML="",b.innerHTML="",g.dataset.id="",q.dataset.id="",t.preventDefault();const o=e.id;c.getMovieDetails(o).then((e=>{!function({id:e,poster_path:t,title:o,original_title:r,popularity:n,overview:i,genres:d,vote_average:a,vote_count:l}){t=null===t?u:`https://image.tmdb.org/t/p/w500${t}`,m.src=t,v.innerHTML=o,f.innerHTML=a.toFixed(1),L.innerHTML=l,p.innerHTML=n.toFixed(1),_.innerHTML=r,y.innerHTML=d.map((e=>e.name)).join(", "),b.innerHTML=i,g.dataset.id=e,q.dataset.id=e}(e)})),l.off()}));let n=!1,i=!1;null===(t=(0,d.load)("watchedList"))||void 0===t||t.forEach((t=>{t.id==e.id&&(n=!0)})),null===(o=(0,d.load)("queueList"))||void 0===o||o.forEach((t=>{t.id==e.id&&(i=!0)}));let s=document.querySelector(".modal-movie__button--watched"),h=document.querySelector(".modal-movie__button--queue");n&&(s.innerHTML="On List"),i&&(h.innerHTML="On List");const w=(t,o,r)=>{let a;null!=r&&("watched"===r?a=n:"queue"===r&&(a=i),a?((0,d.removeFromLibrary)(e.id,o),t.innerHTML=`Add to ${r}`,h.disabled=!1,s.disabled=!1):((0,d.addToLibrary)(e.id,o),t.innerHTML="Added",t.style.color="#8C8C8C"),"watched"===r?(n=!n,s.disabled=!0,h.disabled=!0):"queue"===r&&(i=!i,h.disabled=!0,s.disabled=!0))};s.addEventListener("click",(()=>{if(w(s,"watchedList","watched"),document.location.href.includes("library")&&"watched"===r.refs.moviesList.dataset.listtype){let e=(0,d.load)("watchedList");(0,a.getAllLibraryMovies)(e,"watchedList")}})),h.addEventListener("click",(()=>{if(w(h,"queueList","queue"),document.location.href.includes("library")&&"queue"===r.refs.moviesList.dataset.listtype){let e=(0,d.load)("queueList");(0,a.getAllLibraryMovies)(e,"queueList")}}))}))}const m=document.querySelector(".modal-movie__poster--img"),v=document.querySelector(".modal-movie__title"),f=document.querySelector(".modal-movie__vote"),L=document.querySelector(".modal-movie__votes"),p=document.querySelector(".modal-movie__popularity"),_=document.querySelector(".modal-movie__original-title"),y=document.querySelector(".modal-movie__genre"),b=document.querySelector(".modal-movie__text"),g=document.querySelector(".modal-movie__button--watched"),q=document.querySelector(".modal-movie__button--queue")})),n.register("z6xcc",(function(e,t){e.exports=new URL(n("kyEFX").resolve("5JHSy"),import.meta.url).toString()})),n("kyEFX").register(JSON.parse('{"01hfY":"library.20ed2526.js","5JHSy":"no-poster.cf0f8928.jpg","gzhOE":"library.72139500.js"}'));
//# sourceMappingURL=library.20ed2526.js.map
