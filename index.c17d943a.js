var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire62bd;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequire62bd=o);var a=o("blmqA"),i=o("gIXsy"),s=o("24ni3"),r=o("3ILHO"),c=(o("blmqA"),i=o("gIXsy"),o("24ni3"),o("8IXMh")),d=o("adAgQ");r=o("3ILHO"),i=o("gIXsy"),s=o("24ni3"),a=o("blmqA"),c=o("8IXMh");const l=new(0,(d=o("adAgQ")).Loader);function u(){document.body.scrollTop=0,document.documentElement.scrollTop=0}const g=new(0,i.FetchApiMovies);async function f(t,e){r.refs.paginationNumbers.innerHTML="";const n=await g.getSearch(t,e),o=await n.total_pages;let i=await n.page,d="";i>1&&(d+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>');for(let t=1;t<=o;t+=1)(1==t||t==o||t==i||t>i&&t<=i+2||t<i&&t>=i-2||1==i&&o>4&&t<8||2==i&&o>5&&t<8||3==i&&o>6&&t<8||4==i&&o>7&&t<8||i==o&&o>7&&t>o-7||i==o-1&&o>7&&t>o-7||i==o-2&&o>7&&t>o-7||i==o-3&&o>7&&t>o-7)&&(d+=`<button type="button" class="pagination-container__button" data-id="${t}">${t}</button>`);o>2&&o!==i&&(d+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),r.refs.paginationNumbers.innerHTML=d;const b=document.querySelectorAll(".pagination-numbers button");!function(){const t=document.querySelector('button[data-id="1"]'),e=document.querySelector(`button[data-id="${o}"`),n=document.createElement("button");n.textContent="...",n.classList.add("pagination-container__first-dot-button");const a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__last-dot-button"),i>4&&t.after(n),i<o-3&&e.before(a)}(),b.forEach((t=>{t.classList.remove("pagination-container__button--active"),t.textContent==i&&t.classList.add("pagination-container__button--active")})),b.forEach((e=>{e.addEventListener("click",(async e=>{if(e.target.classList.contains("pagination-container__button")){u(),l.on();let n=e.target.textContent;const o=await(0,a.getGenresIdsList)(),i=await g.getSearch(t,n),r=await i.results;(0,s.renderMoviesList)(r,o),f(t,n),(0,c.addToggleModal)(),l.off()}else if(e.target.classList.contains("pagination-container__prev-button")){u(),l.on(),i--;const e=await(0,a.getGenresIdsList)(),n=await g.getSearch(t,i),o=await n.results;(0,s.renderMoviesList)(o,e),f(t,i),(0,c.addToggleModal)(),l.off()}else if(e.target.classList.contains("pagination-container__next-button")){u(),l.on(),i++;const e=await(0,a.getGenresIdsList)(),n=await g.getSearch(t,i),o=await n.results;(0,s.renderMoviesList)(o,e),f(t,i),(0,c.addToggleModal)(),l.off()}}))}))}const b=new(0,d.Loader),p=new(0,i.FetchApiMovies);r.refs.searchForm.addEventListener("submit",(async function(t){t.preventDefault(),b.on();const e=await(0,a.getGenresIdsList)(),n=r.refs.formInput.value.trim(),o=await p.getSearch(n,1),i=await o.results;if(0===i.length)return b.off(),r.refs.notification.classList.remove("off"),void setTimeout((()=>{r.refs.notification.classList.add("off")}),2e3);(0,s.renderMoviesList)(i,e),f(n,1),(0,c.addToggleModal)(),b.off()}));r=o("3ILHO"),i=o("gIXsy"),c=o("8IXMh"),d=o("adAgQ");const m=new(0,i.FetchApiMovies),L=new(0,d.Loader);function _(){document.body.scrollTop=0,document.documentElement.scrollTop=0}async function w(t){r.refs.paginationNumbers.innerHTML="";const e=await m.getTrending(t),n=await e.total_pages;let o=await e.page,a="";o>1&&(a+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>');for(let t=1;t<=n;t+=1)(1==t||t==n||t==o||t>o&&t<=o+2||t<o&&t>=o-2||1==o&&n>4&&t<8||2==o&&n>5&&t<8||3==o&&n>6&&t<8||4==o&&n>7&&t<8||o==n&&n>7&&t>n-7||o==n-1&&n>7&&t>n-7||o==n-2&&n>7&&t>n-7||o==n-3&&n>7&&t>n-7)&&(a+=`<button type="button" class="pagination-container__button" data-id="${t}">${t}</button>`);n>2&&n!==o&&(a+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),r.refs.paginationNumbers.innerHTML=a;const i=document.querySelectorAll(".pagination-numbers button");!function(){const t=document.querySelector('button[data-id="1"]'),e=document.querySelector(`button[data-id="${n}"`),a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__first-dot-button");const i=document.createElement("button");i.textContent="...",i.classList.add("pagination-container__last-dot-button"),o>4&&t.after(a),o<n-3&&e.before(i)}(),i.forEach((t=>{t.classList.remove("pagination-container__button--active"),t.textContent==o&&t.classList.add("pagination-container__button--active")})),i.forEach((t=>{t.addEventListener("click",(t=>{if(t.target.classList.contains("pagination-container__button")){_(),L.on(),h(t.target.textContent).then((()=>{(0,c.addToggleModal)(),L.off()}))}else t.target.classList.contains("pagination-container__prev-button")?(_(),L.on(),o--,h(o).then((()=>{(0,c.addToggleModal)(),L.off()}))):t.target.classList.contains("pagination-container__next-button")&&(_(),L.on(),o++,h(o).then((()=>{(0,c.addToggleModal)(),L.off()})))}))}))}c=o("8IXMh");o("eDptM"),o("gNiep"),o("3ILHO");i=o("gIXsy"),d=o("adAgQ");const y=new(0,i.FetchApiMovies),v=new(0,d.Loader);async function h(t){const e=await(0,a.getGenresIdsList)(),n=await y.getTrending(t),o=await n.results;(0,s.renderMoviesList)(o,e),w(t),v.off()}h(1).then((()=>{(0,c.addToggleModal)()}));"alredy shown"!=sessionStorage.getItem("alreadyShow")?(setTimeout((()=>{document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),1e3),sessionStorage.setItem("alreadyShow","alredy shown")):(v.on(),document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off"));
//# sourceMappingURL=index.c17d943a.js.map
